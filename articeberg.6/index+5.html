<!DOCTYPE html>
<html>
<head>
    <title>ART iceberg</title>
     <meta charset="utf-8">
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <meta name="author" content="ridha ouafi">
    
    
    <style>  
    
            * {
  box-sizing: border-box;
}
.row::after {
  content: "";
  clear: both;
  display: table;
}
.header1 {
 display: flex;
 flex-wrap: wrap;
  
 font-size: 1em;
 color: white;
 background-color: green;
 border: 1px solid springgreen;
 padding: 2px;
} 
.header2 {
 display: flex;
 flex-wrap: wrap;
 
  font-size:3em;
  color: white;
  
 background-color: black;
 border: 1px solid springgreen;
 padding: 10px;
}

 .footer {  
 display: flex;
 flex-wrap: wrap; 
justify-content: center;
 background-color: black;
 border: 2px solid springgreen;
 padding: 10px;
 color: white;
 text-align: center;
 font-size: 1em;
 position: fixed;
 bottom: 0;
 width: 97%;
 }
 /* Six buttons with code link to some pages in this project */
 .button-group {
 display: flex;
 flex-wrap: wrap;
 justify-content: center;
 align-items: center;
 margin-top: 20px;
 }
 .button {
 display: inline-block;
 padding: 4px;
 margin: 4px;
 background-color: GREEN;
 color: white;
 border: 1px solid black;
 border-radius: 4px;
 font-size: 1em;
 text-align: center;
 text-decoration: none;
 }

 /* Fixed background */
 body { 

   background-color: #FFFFFF;
   background-image: url('paint9.JPG');
   background-attachment: fixed;
   background-position: center center;
   background-repeat: repeat;
   background-size: 100% 100%;
   color: #000000;
   font-family: Arial;
   font-weight: normal;
   font-size: 13px;
   line-height: 1.1875;
   margin: 0;
   padding: 0;

 
 }

        #gameArea {
            top: -100%;
            left: 0%;
            width: 1000px;
            height: 500px;
            background-color: transparent;
            border: 1px solid BLUE;
            position: relative;
        }
		
		
				
		  				.buttone {
            width: 50px;
            height: 50px;
            background-color: springgreen;
			 border: 2px solid red;
			 border-radius: 30%;
             padding: 6px;
             margin: 6px;
            display: inline-block;
            text-align: center;
			color: red;
            line-height: 6px;
            cursor: pointer;
        }
		
		


                  #character {
      position: absolute;
      BOTTOM: 0%;
      left: 50%;

       width: 100px;
            height: 100px;
            background-image: url('truck1.png');



    }

    .enemy {
      position:absolute;
      top:260px;
      width: 100px;
            height: 100px;
            background-image: url('enemy2.png');
       animation: move-enemy 20s infinite;
    }

    @keyframes move-enemy {
      0% {
        transform: translateX(100);
      }
      100% {
        transform: translateX(calc(10% + 500px));
      }

         #canvas {



    border: 0.0px solid black;

    margin: 6px 0 6px 0;

    cursor: pointer;

}

#colors button

{

    width: 40px;

    height: 40px;

    border-radius: 50%;

    margin-top: 6px;

}

#black

{

    background: black;

}

#pink

{

    background: pink;

}

#red

{

    background: red;

}

#green

{

    background: green;

}

#blue

{

    background: blue;

}

#orange

{

    background: orange;

}

#white

{

  background:white;

}

#yellow

{






         /* Flexible layout responsive design */

 .header1 {
 font-size: 0.5em;
 padding: 2px;
 }
 /* Big red header with red border */
 .header2 {
 font-size: 4em;
 padding: 2px;
 }
 /* Six buttons with code link to some pages in this project */
 .button-group {
 margin-top: 10px;
 }
 .button {
 padding: 5px;
 margin: 5px;
 font-size: 1em;
 }




.row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}
.column {
  flex: 100%;

  padding: 5px;
}
.column img { 

  width: 100%;
  height: auto;

      }
@media screen and (max-width: 600px) {
  .column {
  
    width: 100%;
  }
   

} 
        
        
    </style>
</head>
<body> 


 
 <div class="button-group">
 <a href="index.html" class="button">introduction</a>
 <a href="index.html" class="button">index</a>
 <a href="index.html" class="button">topics</a>
 <a href="about.html" class="button">about</a>
 <a href="https://linkmovies.netlify.app" class="button">blog</a>
 <a href="https://www.facebook.com/toni.romanov.92" class="button">contact</a>
  </DIV>


    <div class="row">


     <div id="gameArea">
    <canvas height="500" id="canvas" width="1000"></canvas>

    <button onclick="clearCanvas()">Clear</button>



    <div class="colors">

            <button id="black" onclick="changeColor(&quot;black&quot;)" ontouchstart="changeColor(&quot;black&quot;)"></button>

            <button id="red" onclick="changeColor(&quot;red&quot;)" ontouchstart="changeColor(&quot;red&quot;)"></button>

            <button id="green" onclick="changeColor(&quot;green&quot;)" ontouchstart="changeColor(&quot;green&quot;)"></button>

            <button id="blue" onclick="changeColor(&quot;blue&quot;)" ontouchstart="changeColor(&quot;blue&quot;)"></button>

            <button id="orange" onclick="changeColor(&quot;orange&quot;)" ontouchstart="changeColor(&quot;orange&quot;)"></button>

            <button id="pink" onclick="changeColor(&quot;pink&quot;)" ontouchstart="changeColor(&quot;pink&quot;)"></button>

            <button id="white"onclick="changeColor(&quot;white&quot&)"ontouchstart="changeColor(&quot;white&quot;)"></button>

            <button id="yellow" onclick="changeColor(&quot;yellow&quot;)" ontouchstart="changeColor(&quot;pink&quot;)"></button>

       </div>


              <div class="score">  </div>

        <div id="character">  </div>
										    <!-- Audio elements for movement sounds -->
    <audio id="shootSound" src="mov.wav" type="audio/wav"></audio>
    <audio id="movSound" src="mov.wav" type="audio/wav"></audio>
	<audio id="mov1Sound" src="mov1.wav" type="audio/wav"></audio>
	<audio id="pass1Sound" src="pass1.wav" type="audio/wav"></audio>
    <audio id="loserSound" src="loser.wav" type="audio/wav"></audio>
	<audio id="introSound" src="pass3.mp3" type="audio/mp3"></audio>
    <audio id="hitSound" src="mov.wav" type="audio/mp3"></audio>
		
		
		
        </div>


     <script>
var character = document.getElementById("character");
var x = 0;
var y = 0;

const shootSound = document.getElementById('shootSound');
const movSound = document.getElementById('movSound');
const passSound = document.getElementById('passSound');
const pass1movSound = document.getElementById('pass1Sound');
const introSound = document.getElementById('introSound');
const hitSound = document.getElementById('hitSound');




// Get the window width and height
let windowWidth = window.innerWidth;
let windowHeight = window.innerHeight;
// Set the initial speed and direction
let speed = 3;
let dx = 0;
let dy = 0;
  let scorem = 0;
document.addEventListener("keydown", function(event) {
    // Get the key code
    let key = event.keyCode;
    // Set the speed and direction based on the arrow keys
    if (key == 37) { // Left arrow
        dx = -speed;
        dy = 0;
		movSound.play();
      character.style.backgroundImage = "url('truck4.png')";


    } else if (key == 39) { // Right arrow
        dx = speed;
        dy = 0;
		hitSound.play();
           character.style.backgroundImage = "url('truck1.png')";

    }
    if (key == 38) { // Up arrow
                dx = 0;
                dy = -speed;
				mov1Sound.play();
           character.style.backgroundImage = "url('truck3.png')";

            }
         if (key == 40) { // Down arrow
                dx = 0;
                dy = +speed;
				pass1Sound.play();
          character.style.backgroundImage = "url('truck2.png')";
        }

});
// Add an event listener for keyup events
document.addEventListener("keyup", function(event) {
    // Stop the movement when the arrow keys are released
    dx = 0;
    dy = 0;
});
// Define a function to update the character position
function update() {
    // Get the current position of the character
    let x = character.offsetLeft;
    let y = character.offsetTop;
    // Add the speed and direction to the position
    x += dx;
    y += dy;
    // Wrap around the window edges
    if (x < 0) {
        x = windowWidth - character.offsetWidth;
    } else if (x > windowWidth - character.offsetWidth) {
        x = 0;
    }
    if (y < 0) {
        y = windowHeight - character.offsetHeight;
    } else if (y > windowHeight - character.offsetHeight) {
        y = 0;
    }


         if (scorem === 30) {

 character.style.backgroundImage = "url('truck6.png')";


                    }


    // Set the new position of the character
    character.style.left = x + "px";
    character.style.top = y + "px";
    // Request the next animation frame
    requestAnimationFrame(update);
}
// Start the animation loop
update();
</script>



   <script>
        var character = document.getElementById("character");
        var score = 0;

    var scoreElement = document.createElement("div");
    scoreElement.style.position = "absolute";
    scoreElement.style.top = "50px";
    scoreElement.style.right = "300px";
    scoreElement.style.fontSize = "20px";
    scoreElement.style.color = "BLUE";
    scoreElement.innerHTML = "Score: " + score;
              document.body.appendChild(scoreElement);
        var enemies = [];
        var enemyCount = 20;
        for (var i = 1; i < enemyCount; i++) {
            var enemy = document.createElement("div");
            enemy.className = "enemy";
            enemy.style.top = Math.floor(Math.random() *300) - "px";
            enemy.style.left = Math.floor(Math.random() * 100) + "px";
            document.body.appendChild(enemy);
            enemies.push(enemy);
        }
        document.addEventListener("keydown", function(event) {
            if (event.keyCode === 37) {
                character.style.left = parseInt(character.style.left) - 5 + "px";
            } else if (event.keyCode === 38) {
                character.style.top = parseInt(character.style.top) - 5 + "px";
            } else if (event.keyCode === 39) {
                character.style.left = parseInt(character.style.left) + 5 + "px";
            } else if (event.keyCode === 40) {
                character.style.top = parseInt(character.style.top) + 5 + "px";
            }
            for (var i = 0; i < enemies.length; i++) {
                var enemy = enemies[i];
                if (collision(character, enemy)) {
                    enemy.style.display = "NONE";
                    score += 1;
                         scoreElement.innerHTML = "Score: " + score;
                    if (score === 40) {
                        window.location.href = "https://bingooolink5.vercel.app";
                    }
                }
            }



        });
        function collision(character, enemy) {
            var characterRect = character.getBoundingClientRect();
            var enemyRect = enemy.getBoundingClientRect();
            return !(
                characterRect.bottom < enemyRect.top ||
                characterRect.top > enemyRect.bottom ||
                characterRect.right < enemyRect.left ||
                characterRect.left > enemyRect.right
            );
        }


          function moveBullets() {
            for (var i = 0; i < bullets.length; i++) {
                var bullet = bullets[i];
                bullet.style.bottom = parseInt(bullet.style.bottom) + 10 + "px";
                if (parseInt(bullet.style.bottom) > 500) {
                    bullet.remove();
                    bullets.splice(i, 1);
                    i--;
                } else {
                    for (var j = 0; j < enemies.length; j++) {
                        var enemy = enemies[j];
                        if (hitTest(bullet, enemy)) {
                            enemy.remove();
                            enemies.splice(j, 1);
                            j--;
                            bullet.remove();
                            bullets.splice(i, 1);
                            i--;



            score += 1;
            scoreElement.innerHTML = "Score: " + score;
            if (score == 40) {


                window.location.href = ".";

            }
          }
        }



                      }
            }
        }

         function moveEnemies() {
            for (var i = 0; i < enemies.length; i++) {
                var enemy = enemies[i];
                enemy.style.bottom = parseInt(enemy.style.bottom) - 10 + "px";
                if (parseInt(enemy.style.bottom) < 0) {
                    enemy.remove();
                    enemies.splice(i, 1);
                    i--;
                }
            }
        }
        function createEnemy() {
            var enemy = document.createElement("div");
            enemy.className = "enemy";
            enemy.style.left = Math.floor(Math.random() * 450) + "px";
            enemy.style.bottom = "500px";
            document.getElementById("gameArea").appendChild(enemy);
            enemies.push(enemy);
        }
        function hitTest(a, b) {
            var aRect = a.getBoundingClientRect();
            var bRect = b.getBoundingClientRect();
            return !(
                (aRect.bottom < bRect.top) ||
                (aRect.top > bRect.bottom) ||
                (aRect.right < bRect.left) ||
                (aRect.left > bRect.right)
            );
        }

        setInterval(moveEnemies, 500);
        setInterval(createEnemy, 1000);
        document.addEventListener("keydown", moveCharacter);



    </script>

      <script>

    var arr_touches = [];

var canvas;

var ctx;

var down = false; //mouse is pressed

var color = 'black'; //default drawing color

var width = 5; // drawing width



//calling window.onload to make sure the HTML is loaded

window.onload = function() {

    canvas = document.getElementById('canvas');

    ctx = canvas.getContext('2d');

    ctx.lineWidth = width;



    //handling mouse click and move events

    canvas.addEventListener('mousemove', handleMove);

    canvas.addEventListener('mousedown', handleDown);

    canvas.addEventListener('mouseup', handleUp);



    //handling mobile touch events

    canvas.addEventListener("touchstart", handleStart, false);

    canvas.addEventListener("touchend", handleEnd, false);

    canvas.addEventListener("touchcancel", handleCancel, false);

    canvas.addEventListener("touchleave", handleEnd, false);

    canvas.addEventListener("touchmove", handleTouchMove, false);

};

function handleMove(e)

{

    xPos = e.clientX-canvas.offsetLeft;

    yPos = e.clientY-canvas.offsetTop;

    if(down == true)

    {

        ctx.lineTo(xPos,yPos); //create a line from old point to new one

        ctx.strokeStyle = color;

        ctx.stroke();

    }

}

function handleDown()

{

    down = true;

    ctx.beginPath();

    ctx.moveTo(xPos, yPos);

}

function handleUp()

{

    down = false;

}

function handleStart(evt)

{

    var touches = evt.changedTouches;

    for(var i = 0; i < touches.length; i++)

    {

        if(isValidTouch(touches[i]))

        {

            evt.preventDefault();

            arr_touches.push(copyTouch(touches[i]));

            ctx.beginPath();

            ctx.fillStyle = color;

            ctx.fill();

        }

    }

}

function handleTouchMove(evt)

{

    var touches = evt.changedTouches;

    var offset = findPos(canvas);

    for (var i = 0; i < touches.length; i++)

    {

        if(isValidTouch(touches[i]))

        {

            evt.preventDefault();

            var idx = ongoingTouchIndexById(touches[i].identifier);

            if (idx >= 0)

            {

                ctx.beginPath();

                ctx.moveTo(arr_touches[idx].clientX-offset.x, arr_touches[idx].clientY-offset.y);

                ctx.lineTo(touches[i].clientX-offset.x, touches[i].clientY-offset.y);

                ctx.strokeStyle = color;

                ctx.stroke();



                arr_touches.splice(idx, 1, copyTouch(touches[i]));

            }

        }

    }

}

function handleEnd(evt)

{

    var touches = evt.changedTouches;

    var offset = findPos(canvas);

    for (var i = 0; i < touches.length; i++)

    {

        if(isValidTouch(touches[i]))

        {

            evt.preventDefault();

            var idx = ongoingTouchIndexById(touches[i].identifier);

            if (idx >= 0)

            {

                ctx.lineWidth = 4;

                ctx.fillStyle = color;

                ctx.beginPath();

                ctx.moveTo(arr_touches[idx].clientX-offset.x, arr_touches[idx].clientY-offset.y);

                ctx.lineTo(touches[i].clientX-offset.x, touches[i].clientY-offset.y);

               arr_touches.splice(i, 1);

            }

        }

    }

}

function handleCancel(evt)

{

    evt.preventDefault();

    var touches = evt.changedTouches;



    for (var i = 0; i < touches.length; i++) {

        arr_touches.splice(i, 1);

    }

}

function copyTouch(touch)

{

    return {identifier: touch.identifier,clientX: touch.clientX,clientY: touch.clientY};

}

function ongoingTouchIndexById(idToFind)

{

    for (var i = 0; i < arr_touches.length; i++) {

        var id = arr_touches[i].identifier;

        if (id == idToFind) {

            return i;

        }

    }

    return -1;

}

function changeColor(new_color)

{

    color = new_color;

}

function clearCanvas()

{

    ctx.clearRect(0, 0, canvas.width, canvas.height);

}

function isValidTouch(touch)

{

    var curleft = 0, curtop = 0;

    var offset = 0;



    if (canvas.offsetParent) {

        do {

            curleft += canvas.offsetLeft;

            curtop += canvas.offsetTop;

        } while (touch == canvas.offsetParent);



        offset = { x: curleft-document.body.scrollLeft, y: curtop-document.body.scrollTop };

    }



    if(touch.clientX-offset.x > 0 &&

            touch.clientX-offset.x < parseFloat(canvas.width) &&

                touch.clientY-offset.y >0 &&

                    touch.clientY-offset.y < parseFloat(canvas.height)) {

        return true;

    }

    else

    {

        return false;

    }

}

function findPos(obj)

{

    var curleft = 0, curtop = 0;

    if (obj.offsetParent)

    {

        do {

            curleft += obj.offsetLeft;

            curtop += obj.offsetTop;

        } while (obj == obj.offsetParent);


        return { x: curleft-document.body.scrollLeft, y: curtop-document.body.scrollTop };

    }

}

    </script>


	
    <div class="buttone" id="up">up</div>
    <div class="buttone" id="left">left</div>
    <div class="buttone" id="right">right</div>
    <div class="buttone" id="down">down</div>
    <div class="buttone" id="fire">shoot</div>
	
	</div>
	    
     <script>
	 


        // Initialize character position
        let characterX = 200;
        let characterY = 400;
		
// Get the window width and height

// Set the initial speed and direction


        // Update character position based on button clicks
        function moveCharacter(direction) {
            switch (direction) {
                case 'up':
                    characterY -= 10;
					
					mov1Sound.play();
					
                    break;
                case 'down':
                    characterY += 10;
					pass1Sound.play();
					
                    break;
                case 'left':
                    characterX -= 20;
					movSound.play();
					 
       break;
                   
		
                case 'right':
                    characterX += 20;
					hitSound.play();
					break;
                    
                case 'fire':
                    // Implement bullet firing logic here
                    console.log('Firing bullets!');
					
                 break;
					
            }
            updateCharacterPosition();
        }
        // Update character display
        function updateCharacterPosition() {
            const character = document.getElementById('character');
            character.style.left = characterX + 'px';
            character.style.top = characterY + 'px';
						const movSound = document.getElementById('movSound');
const passSound = document.getElementById('passSound');
const pass1movSound = document.getElementById('pass1Sound');
const introSound = document.getElementById('introSound');
const hitSound = document.getElementById('hitSound');
			
        }
        // Event listeners for gamepad buttons
        document.getElementById('up').addEventListener('click', () => moveCharacter('up'));
        document.getElementById('down').addEventListener('click', () => moveCharacter('down'));
        document.getElementById('left').addEventListener('click', () => moveCharacter('left'));
        document.getElementById('right').addEventListener('click', () => moveCharacter('right'));
        document.getElementById('fire').addEventListener('click', () => moveCharacter('fire'));
		

    </script>
      
	



</body>
</html>